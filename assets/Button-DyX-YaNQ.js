var f=Object.defineProperty;var h=(n,e,t)=>e in n?f(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var i=(n,e,t)=>h(n,typeof e!="symbol"?e+"":e,t);import{r as u,R as y}from"./index-Cs7sjTYM.js";import{B as v}from"./Base-fHV16vWU.js";import{p as E}from"./polymorphic-factory-23vJzvkj.js";import{c as T}from"./clsx-B-dksMZM.js";let k=class{constructor(e){i(this,"KEY_SPACE",32);i(this,"DEBOUNCE_TIMEOUT_IN_SECONDS",1);this.$module=e,this.debounceFormSubmitTimer=null}handleKeyDown(e){const{target:t}=e;t.getAttribute("role")==="button"&&e.keyCode===this.KEY_SPACE&&(e.preventDefault(),t.click())}debounce(e){const{target:t}=e;if(t.getAttribute("data-prevent-double-click")==="true"){if(this.debounceFormSubmitTimer)return e.preventDefault(),!1;this.debounceFormSubmitTimer=setTimeout(()=>{this.debounceFormSubmitTimer=null},this.DEBOUNCE_TIMEOUT_IN_SECONDS*1e3)}}init(){this.$module.addEventListener("keydown",this.handleKeyDown.bind(this)),this.$module.addEventListener("click",this.debounce.bind(this))}};const B=({scope:n=document}={})=>{n.querySelectorAll('[data-module="nhsuk-button"]').forEach(t=>{new k(t).init()})},d=E(({className:n,children:e,variant:t="primary",disabled:o,preventDoubleClick:m,type:c="button",as:s="button",...p},b)=>{const r=u.useRef(null);u.useImperativeHandle(b,()=>r.current),u.useEffect(()=>{if(!r.current)return;const l=r.current.parentElement;l&&B({scope:l})},[r]);const a=s!=="button";return y.createElement(v,{as:s,className:T("nhsuk-button",{[`nhsuk-button--${t}`]:t!=="primary","nhsuk-button--disabled":o},n),"data-module":"nhsuk-button","data-prevent-double-click":m?"true":void 0,role:a?"button":void 0,draggable:a?"false":void 0,type:a?void 0:c,disabled:a||!o?void 0:!0,"aria-disabled":o?"true":void 0,...p,ref:r},e)});d.displayName="Button";d.__docgenInfo={description:"",methods:[],displayName:"Button",props:{variant:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'reverse' | 'warning'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'reverse'"},{name:"literal",value:"'warning'"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},preventDoubleClick:{required:!1,tsType:{name:"boolean"},description:""},type:{required:!1,tsType:{name:"union",raw:"'button' | 'submit' | 'reset'",elements:[{name:"literal",value:"'button'"},{name:"literal",value:"'submit'"},{name:"literal",value:"'reset'"}]},description:"",defaultValue:{value:"'button'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},as:{required:!1,tsType:{name:"TComponent"},description:"The component to render as.",defaultValue:{value:"'button'",computed:!1}}}};export{d as B};
