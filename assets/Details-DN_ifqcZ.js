import{r as c,R as l}from"./index-B0WjJBI_.js";import{c as p}from"./clsx-B-dksMZM.js";import{f as b}from"./factory-DuYveBF_.js";import{t as y}from"./common-fnmo4YYw.js";const A=({scope:t=document}={})=>{if(typeof document.createElement("details").open=="boolean")return;const n=t.querySelectorAll("details"),u=(e,r)=>{e.setAttribute("nhsuk-polyfilled","true"),e.id||e.setAttribute("id",`nhsuk-details${r}`);const a=t.querySelector(`#${e.id} .nhsuk-details__text`);a.id||a.setAttribute("id",`nhsuk-details__text${r}`);const s=t.querySelector(`#${e.id} .nhsuk-details__summary`);s.setAttribute("role","button"),s.setAttribute("aria-controls",a.id),s.setAttribute("tabIndex","0"),e.getAttribute("open")!==null===!0?(s.setAttribute("aria-expanded","true"),a.setAttribute("aria-hidden","false")):(s.setAttribute("aria-expanded","false"),a.setAttribute("aria-hidden","true"),a.style.display="none");const h=()=>{y(s,"aria-expanded"),y(a,"aria-hidden"),a.style.display=a.getAttribute("aria-hidden")==="true"?"none":"",e.hasAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","open")};s.addEventListener("click",h),s.addEventListener("keydown",d=>{(d.keyCode===13||d.keyCode===32)&&(d.preventDefault(),s.click())})};n.length&&n.forEach((e,r)=>{e.hasAttribute("nhsuk-polyfilled")||u(e,r)})},o=b(({variant:t,className:i,...n},u)=>{const e=c.useRef(null);return c.useImperativeHandle(u,()=>e.current),c.useEffect(()=>{if(!e.current)return;const r=e.current.parentElement;r&&A({scope:r})},[e]),l.createElement("details",{className:p("nhsuk-details",{"nhsuk-expander":t==="expander"},i),...n,ref:e})}),m=({className:t,children:i,...n})=>l.createElement("summary",{className:p("nhsuk-details__summary",t),...n},l.createElement("span",{className:"nhsuk-details__summary-text"},i)),f=({className:t,...i})=>l.createElement("div",{className:p("nhsuk-details__text",t),...i});o.displayName="Details";m.displayName="Details.Summary";f.displayName="Details.Text";o.Summary=m;o.Text=f;o.__docgenInfo={description:"",methods:[],displayName:"Details",props:{variant:{required:!1,tsType:{name:"union",raw:"'default' | 'expander'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'expander'"}]},description:""}}};m.__docgenInfo={description:"",methods:[],displayName:"Details.Summary"};f.__docgenInfo={description:"",methods:[],displayName:"Details.Text"};export{o as D};
