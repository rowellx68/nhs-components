import{r as i,R as a}from"./index-DCEVbkbO.js";import{f as L}from"./factory-B-vprWl1.js";import{u as b}from"./use-id-with-prefix-JqmxMMgI.js";import{c as u}from"./clsx-B-dksMZM.js";import{H as I}from"./Heading-CxtVkFr9.js";import{p as S}from"./polymorphic-factory-Bh8XY5CE.js";import{L as _}from"./List-CEM-Vga9.js";import{B as T}from"./Base-CSr0pwnM.js";import"./_commonjsHelpers-CqkleIqs.js";const g=i.createContext({labelId:""}),B=()=>i.useContext(g),N=g.Provider;function x(r){const e=r.closest("fieldset");if(e){const o=e.getElementsByTagName("legend");if(o.length){const m=o[0];if(r.type==="checkbox"||r.type==="radio")return m;const s=m.getBoundingClientRect().top,n=r.getBoundingClientRect();if(n.height&&window.innerHeight&&n.top+n.height-s<window.innerHeight/2)return m}}return document.querySelector(`label[for='${r.getAttribute("id")}']`)||r.closest("label")}function v(r){if(r.tagName!=="A"||r.href===!1)return!1;const e=document.querySelector(r.hash);if(!e)return!1;const o=x(e);return o?(o.scrollIntoView(),e.focus({preventScroll:!0}),!0):!1}function k(r){v(r.target)&&r.preventDefault()}const C=({focusOnPageLoad:r=!0,scope:e=document}={})=>{const o=e.querySelector(".nhsuk-error-summary");o&&(r&&o.focus(),o.addEventListener("click",k))},t=L(({className:r,...e},o)=>{i.useImperativeHandle(o,()=>m.current);const m=i.useRef(null),s=b("error-summary");return i.useEffect(()=>{if(!m.current)return;const n=m.current.parentElement;n&&C({scope:n})},[m]),a.createElement(N,{value:{labelId:s}},a.createElement("div",{className:u("nhsuk-error-summary",r),role:"alert","aria-labelledby":s,tabIndex:-1,ref:m,...e}))}),c=S(({as:r="h2",className:e,...o},m)=>{const{labelId:s}=B();return a.createElement(I,{as:r,className:u("nhsuk-error-summary__title",e),ref:m,...o,id:s})}),d=({className:r,...e})=>a.createElement("div",{className:u("nhsuk-error-summary__body",r),...e}),y=({className:r,...e})=>a.createElement(_,{className:u("nhsuk-error-summary__list",r),role:"list",...e}),p=S(({as:r="a",...e},o)=>a.createElement("li",null,a.createElement(T,{as:r,ref:o,...e})));t.displayName="ErrorSummary";c.displayName="ErrorSummary.Title";d.displayName="ErrorSummary.Body";y.displayName="ErrorSummary.List";p.displayName="ErrorSummary.ListItem";t.Title=c;t.Body=d;t.List=y;t.ListItem=p;t.__docgenInfo={description:"",methods:[],displayName:"ErrorSummary"};c.__docgenInfo={description:"",methods:[],displayName:"ErrorSummary.Title",props:{as:{defaultValue:{value:"'h2'",computed:!1},required:!1}}};d.__docgenInfo={description:"",methods:[],displayName:"ErrorSummary.Body"};y.__docgenInfo={description:"",methods:[],displayName:"ErrorSummary.List"};p.__docgenInfo={description:"",methods:[],displayName:"ErrorSummary.ListItem",props:{as:{required:!1,tsType:{name:"TComponent"},description:"The component to render as.",defaultValue:{value:"'a'",computed:!1}}}};const W={title:"Components/Form Elements/Error Summary",component:t,subcomponents:{"ErrorSummary.Title":t.Title,"ErrorSummary.Body":t.Body,"ErrorSummary.List":t.List,"ErrorSummary.ListItem":t.ListItem},parameters:{docs:{description:{component:`Include an error summary at the top of a page to summarise any mistakes a user has made.

https://service-manual.nhs.uk/design-system/components/error-summary`}}}},l={render:r=>a.createElement(t,{...r},a.createElement(t.Title,null,"There is a problem"),a.createElement(t.Body,null,a.createElement("p",null,"Describe the errors and how to correct them"),a.createElement(t.List,null,a.createElement(t.ListItem,{href:"#"},"Date of birth must be in the past"))))};var f,E,h;l.parameters={...l.parameters,docs:{...(f=l.parameters)==null?void 0:f.docs,source:{originalSource:`{
  render: args => <ErrorSummary {...args}>
      <ErrorSummary.Title>There is a problem</ErrorSummary.Title>
      <ErrorSummary.Body>
        <p>Describe the errors and how to correct them</p>
        <ErrorSummary.List>
          <ErrorSummary.ListItem href="#">
            Date of birth must be in the past
          </ErrorSummary.ListItem>
        </ErrorSummary.List>
      </ErrorSummary.Body>
    </ErrorSummary>
}`,...(h=(E=l.parameters)==null?void 0:E.docs)==null?void 0:h.source}}};const $=["Example"];export{l as Example,$ as __namedExportsOrder,W as default};
