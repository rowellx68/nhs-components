import{r as m,R as a}from"./index-DCEVbkbO.js";import{B as E}from"./Base-CSr0pwnM.js";import{p as v}from"./polymorphic-factory-Bh8XY5CE.js";import{c as h}from"./clsx-B-dksMZM.js";import{f as w}from"./factory-B-vprWl1.js";import"./_commonjsHelpers-CqkleIqs.js";let P=class d{constructor(e,t,s,i){this.$module=e,this.namespace=t,this.responsive=s,this.historyEnabled=i,this.$tabs=e.querySelectorAll(`.${this.namespace}__tab`),this.keys={down:40,left:37,right:39,up:38},this.jsHiddenClass=`${this.namespace}__panel--hidden`,this.showEvent=new CustomEvent("tab.show"),this.hideEvent=new CustomEvent("tab.hide")}init(){typeof window.matchMedia=="function"&&this.responsive?this.setupResponsiveChecks():this.setup()}setupResponsiveChecks(){this.mql=window.matchMedia("(min-width: 641px)"),this.mql.addEventListener("change",this.checkMode.bind(this)),this.checkMode()}checkMode(){this.mql.matches?this.setup():this.teardown()}setup(){const{$module:e}=this,{$tabs:t}=this,s=e.querySelector(`.${this.namespace}__list`),i=e.querySelectorAll(`.${this.namespace}__list-item`);if(!t||!s||!i)return;s.setAttribute("role","tablist"),i.forEach(l=>{l.setAttribute("role","presentation")}),t.forEach(l=>{this.setAttributes(l),l.boundTabClick=this.onTabClick.bind(this),l.boundTabKeydown=this.onTabKeydown.bind(this),l.addEventListener("click",l.boundTabClick,!0),l.addEventListener("keydown",l.boundTabKeydown,!0),this.hideTab(l)});const o=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(o),this.historyEnabled&&(e.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",e.boundOnHashChange,!0))}teardown(){const{$module:e}=this,{$tabs:t}=this,s=e.querySelector(`.${this.namespace}__list`),i=e.querySelectorAll(`.${this.namespace}__list-item`);!t||!s||!i||(s.removeAttribute("role"),i.forEach(o=>{o.removeAttribute("role","presentation")}),t.forEach(o=>{o.removeEventListener("click",o.boundTabClick,!0),o.removeEventListener("keydown",o.boundTabKeydown,!0),this.unsetAttributes(o)}),this.historyEnabled&&window.removeEventListener("hashchange",e.boundOnHashChange,!0))}onHashChange(){const{hash:e}=window.location,t=this.getTab(e);if(!t)return;if(this.changingHash){this.changingHash=!1;return}const s=this.getCurrentTab();this.hideTab(s),this.showTab(t),t.focus()}hideTab(e){this.unhighlightTab(e),this.hidePanel(e)}showTab(e){this.highlightTab(e),this.showPanel(e)}getTab(e){return this.$module.querySelector(`.${this.namespace}__tab[href="${e}"]`)}setAttributes(e){const t=d.getHref(e).slice(1);e.setAttribute("id",`tab_${t}`),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");const s=this.getPanel(e);s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledby",e.id),s.classList.add(this.jsHiddenClass)}unsetAttributes(e){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");const t=this.getPanel(e);t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("tabindex"),t.classList.remove(this.jsHiddenClass)}onTabClick(e){e.target.classList.contains(`${this.namespace}__tab`)||(e.stopPropagation(),e.preventDefault()),e.preventDefault();const t=e.target,s=this.getCurrentTab();this.hideTab(s),this.showTab(t),this.createHistoryEntry(t)}createHistoryEntry(e){if(this.historyEnabled){const t=this.getPanel(e),{id:s}=t;t.id="",this.changingHash=!0,window.location.hash=d.getHref(e).slice(1),t.id=s}}onTabKeydown(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),e.preventDefault();break}}activateNextTab(){const e=this.getCurrentTab(),t=e.parentNode.nextElementSibling;let s;t&&(s=t.querySelector(`.${this.namespace}__tab`)),s&&(this.hideTab(e),this.showTab(s),s.focus(),this.createHistoryEntry(s))}activatePreviousTab(){const e=this.getCurrentTab(),t=e.parentNode.previousElementSibling;let s;t&&(s=t.querySelector(`.${this.namespace}__tab`)),s&&(this.hideTab(e),this.showTab(s),s.focus(),this.createHistoryEntry(s))}getPanel(e){return this.$module.querySelector(d.getHref(e))}showPanel(e){const t=this.getPanel(e);t.classList.remove(this.jsHiddenClass),t.dispatchEvent(this.showEvent)}hidePanel(e){const t=this.getPanel(e);t.classList.add(this.jsHiddenClass),t.dispatchEvent(this.hideEvent)}unhighlightTab(e){e.setAttribute("aria-selected","false"),e.parentNode.classList.remove(`${this.namespace}__list-item--selected`),e.setAttribute("tabindex","-1")}highlightTab(e){e.setAttribute("aria-selected","true"),e.parentNode.classList.add(`${this.namespace}__list-item--selected`),e.setAttribute("tabindex","0")}getCurrentTab(){return this.$module.querySelector(`.${this.namespace}__list-item--selected .${this.namespace}__tab`)}static getHref(e){const t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)}};const _=({namespace:r="nhsuk-tabs",responsive:e=!0,historyEnabled:t=!0,scope:s=document}={})=>{s.querySelectorAll(`[data-module="${r}"]`).forEach(o=>{new P(o,r,e,t).init()})},n=w(({children:r,className:e,...t},s)=>{const i=m.useRef(null);return m.useImperativeHandle(s,()=>i.current),m.useEffect(()=>{var l;if(!i.current)return;const o=(l=i.current)==null?void 0:l.parentElement;o&&_({scope:o})},[i]),a.createElement("div",{className:h("nhsuk-tabs",e),"data-module":"nhsuk-tabs",ref:i,...t},r)}),u=v(({className:r,children:e,as:t="h2",...s},i)=>a.createElement(E,{as:t,className:h("nhsuk-tabs__title",r),...s,ref:i},e)),b=({children:r,className:e,...t})=>a.createElement("ul",{className:h("nhsuk-tabs__list",e),...t},r),p=v(({className:r,children:e,as:t="a",...s},i)=>a.createElement("li",{className:"nhsuk-tabs__list-item"},a.createElement(E,{as:t,className:h("nhsuk-tabs__tab",r),...s,ref:i},e))),T=({children:r,className:e,id:t,...s})=>a.createElement("div",{className:h("nhsuk-tabs__panel",e),id:t,...s},r);n.displayName="Tabs";u.displayName="Tabs.Title";b.displayName="Tabs.List";p.displayName="Tabs.ListItem";T.displayName="Tabs.Panel";n.Title=u;n.List=b;n.ListItem=p;n.Panel=T;n.__docgenInfo={description:"",methods:[],displayName:"Tabs"};u.__docgenInfo={description:"",methods:[],displayName:"Tabs.Title",props:{as:{defaultValue:{value:"'h2'",computed:!1},required:!1}}};b.__docgenInfo={description:"",methods:[],displayName:"Tabs.List"};p.__docgenInfo={description:"",methods:[],displayName:"Tabs.ListItem",props:{className:{required:!1,tsType:{name:"string"},description:""},as:{required:!1,tsType:{name:"TComponent"},description:"The component to render as.",defaultValue:{value:"'a'",computed:!1}}}};T.__docgenInfo={description:"",methods:[],displayName:"Tabs.Panel",props:{id:{required:!0,tsType:{name:"string"},description:""}}};const N={title:"Components/Content Presentation/Tabs",component:n,subcomponents:{"Tabs.Title":n.Title,"Tabs.List":n.List,"Tabs.ListItem":n.ListItem,"Tabs.Panel":n.Panel},parameters:{docs:{description:{component:`The tabs component lets users navigate between related sections of content, displaying 1 section at a time.

https://service-manual.nhs.uk/design-system/components/tabs`}}}},c={render:r=>a.createElement(n,{...r},a.createElement(n.Title,null,"Contents"),a.createElement(n.List,null,a.createElement(n.ListItem,{href:"#past-day"},"Past day"),a.createElement(n.ListItem,{href:"#past-week"},"Past week"),a.createElement(n.ListItem,{href:"#past-month"},"Past month"),a.createElement(n.ListItem,{href:"#past-year"},"Past year")),a.createElement(n.Panel,{id:"past-day"},a.createElement("h2",null,"Past day"),a.createElement("p",null,"Content for the past day")),a.createElement(n.Panel,{id:"past-week"},a.createElement("h2",null,"Past week"),a.createElement("p",null,"Content for the past week")),a.createElement(n.Panel,{id:"past-month"},a.createElement("h2",null,"Past month"),a.createElement("p",null,"Content for the past month")),a.createElement(n.Panel,{id:"past-year"},a.createElement("h2",null,"Past year"),a.createElement("p",null,"Content for the past year")))};var f,y,g;c.parameters={...c.parameters,docs:{...(f=c.parameters)==null?void 0:f.docs,source:{originalSource:`{
  render: args => <Tabs {...args}>
      <Tabs.Title>Contents</Tabs.Title>
      <Tabs.List>
        <Tabs.ListItem href="#past-day">Past day</Tabs.ListItem>
        <Tabs.ListItem href="#past-week">Past week</Tabs.ListItem>
        <Tabs.ListItem href="#past-month">Past month</Tabs.ListItem>
        <Tabs.ListItem href="#past-year">Past year</Tabs.ListItem>
      </Tabs.List>
      <Tabs.Panel id="past-day">
        <h2>Past day</h2>
        <p>Content for the past day</p>
      </Tabs.Panel>
      <Tabs.Panel id="past-week">
        <h2>Past week</h2>
        <p>Content for the past week</p>
      </Tabs.Panel>
      <Tabs.Panel id="past-month">
        <h2>Past month</h2>
        <p>Content for the past month</p>
      </Tabs.Panel>
      <Tabs.Panel id="past-year">
        <h2>Past year</h2>
        <p>Content for the past year</p>
      </Tabs.Panel>
    </Tabs>
}`,...(g=(y=c.parameters)==null?void 0:y.docs)==null?void 0:g.source}}};const q=["Default"];export{c as Default,q as __namedExportsOrder,N as default};
