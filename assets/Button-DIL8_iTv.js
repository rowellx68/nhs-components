import{r as i,R as b}from"./index-CgfFrydU.js";import{B as f}from"./Base-CpCQsTc1.js";import{p as h}from"./polymorphic-factory-YJ8dk4Mh.js";import{c as y}from"./clsx-B-dksMZM.js";let v=class{constructor(e){this.KEY_SPACE=32,this.DEBOUNCE_TIMEOUT_IN_SECONDS=1,this.$module=e,this.debounceFormSubmitTimer=null}handleKeyDown(e){const{target:t}=e;t.getAttribute("role")==="button"&&e.keyCode===this.KEY_SPACE&&(e.preventDefault(),t.click())}debounce(e){const{target:t}=e;if(t.getAttribute("data-prevent-double-click")==="true"){if(this.debounceFormSubmitTimer)return e.preventDefault(),!1;this.debounceFormSubmitTimer=setTimeout(()=>{this.debounceFormSubmitTimer=null},this.DEBOUNCE_TIMEOUT_IN_SECONDS*1e3)}}init(){this.$module.addEventListener("keydown",this.handleKeyDown.bind(this)),this.$module.addEventListener("click",this.debounce.bind(this))}};const E=({scope:r=document}={})=>{r.querySelectorAll('[data-module="nhsuk-button"]').forEach(t=>{new v(t).init()})},l=h(({className:r,children:e,variant:t="primary",disabled:o,preventDoubleClick:d,type:m="button",as:u="button",...c},p)=>{const n=i.useRef(null);i.useImperativeHandle(p,()=>n.current),i.useEffect(()=>{if(!n.current)return;const s=n.current.parentElement;s&&E({scope:s})},[n]);const a=u!=="button";return b.createElement(f,{as:u,className:y("nhsuk-button",{[`nhsuk-button--${t}`]:t!=="primary","nhsuk-button--disabled":o},r),"data-module":"nhsuk-button","data-prevent-double-click":d?"true":void 0,role:a?"button":void 0,draggable:a?"false":void 0,type:a?void 0:m,disabled:a||!o?void 0:!0,"aria-disabled":o?"true":void 0,...c,ref:n},e)});l.displayName="Button";l.__docgenInfo={description:"",methods:[],displayName:"Button",props:{variant:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'reverse' | 'warning'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'reverse'"},{name:"literal",value:"'warning'"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},preventDoubleClick:{required:!1,tsType:{name:"boolean"},description:""},type:{required:!1,tsType:{name:"union",raw:"'button' | 'submit' | 'reset'",elements:[{name:"literal",value:"'button'"},{name:"literal",value:"'submit'"},{name:"literal",value:"'reset'"}]},description:"",defaultValue:{value:"'button'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},as:{required:!1,tsType:{name:"TComponent"},description:"The component to render as.",defaultValue:{value:"'button'",computed:!1}}}};export{l as B};
